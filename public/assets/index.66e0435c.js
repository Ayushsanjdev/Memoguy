var e=Object.defineProperty,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(t,o,a)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a;import{m as n,R as r,u as s,a as c,P as d,M as i,B as m,L as u,b as p,d as f,r as y,c as E,e as h,f as b,g as S}from"./vendor.6576b9df.js";const N=n((e=>({modal:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",borderRadius:"10px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),fontFamily:"sans-serif"}}))),w=r.forwardRef((function(e,n){const d=e,{in:i,children:m,onEnter:u,onExited:p}=d,f=((e,l)=>{var n={};for(var r in e)o.call(e,r)&&l.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&t)for(var r of t(e))l.indexOf(r)<0&&a.call(e,r)&&(n[r]=e[r]);return n})(d,["in","children","onEnter","onExited"]),y=s({from:{opacity:0},to:{opacity:i?1:0},onStart:()=>{i&&u&&u()},onRest:()=>{!i&&p&&p()}});return r.createElement(c.div,((e,n)=>{for(var r in n||(n={}))o.call(n,r)&&l(e,r,n[r]);if(t)for(var r of t(n))a.call(n,r)&&l(e,r,n[r]);return e})({ref:n,style:y},f),m)}));function g({setShowTitle:e,addData:t}){const o=N(),[a,l]=r.useState(!1),n=()=>{l(!1)};return r.createElement("div",{className:"reactSpring"},r.createElement("button",{type:"button",className:"newnote",onClick:()=>{l(!0)}},"New Title"),r.createElement(i,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:o.modal,open:a,onClose:n,closeAfterTransition:!0,BackdropComponent:m,BackdropProps:{timeout:800}},r.createElement(w,{in:a},r.createElement("div",{className:o.paper},r.createElement("h2",{id:"spring-modal-title"},"Your memo title"),r.createElement("label",{id:"spring-modal-description"},r.createElement("input",{type:"text/number",onChange:t=>e(t.target.value),onKeyPress:e=>{"Enter"==e.key&&(t(),n())}}))))))}w.propTypes={children:d.element,in:d.bool.isRequired,onEnter:d.func,onExited:d.func};const v=({setShowTitle:e,showTitle:t,addData:o})=>r.createElement("header",null,r.createElement("div",{className:"open"},r.createElement("h1",null,"Memoguy "),r.createElement("small",null," open")),r.createElement(g,{setShowTitle:e,showTitle:t,addData:o})),x=({allNotes:e,delData:t,setSelectedNote:o,selectedNote:a,selectedNoteIndex:l,setSelectedNoteIndex:n,selectedNoteBody:s,setSelectedNoteBody:c,focusEditor:d})=>r.createElement("div",{className:"leftsidebar"},e.map((e=>r.createElement("section",{key:e.id},r.createElement(u,{button:!0,className:"list",selected:l===e.id,onClick:t=>{var a,l,r;a=e.title,o(a),l=e.id,n(l),r=e.body,c(r)}},r.createElement(p,{primary:e.title}),l!==e.id?r.createElement(f,null):"",l===e.id?r.createElement(r.Fragment,null,r.createElement("small",{className:"editing"},"Editing...")):"")))));const T=(e,t)=>{let o;return function(){const a=this,l=arguments;clearTimeout(o),o=setTimeout((()=>{e.apply(a,l)}),t)}},B=({setShowBody:e,showBody:t,setShowTitle:o,allNotes:a,selectedNote:l,setSelectedNote:n,selectedNoteBody:s,setSelectedNoteBody:c,updateData:d,showTitle:i,editor:m,delData:u})=>{const p=y.exports.useRef();return r.createElement("div",{className:"editor"},r.createElement("div",{className:"editorTitle"},r.createElement(f,{className:"titleEdit",onClick:()=>{p.current.focus()}}),r.createElement("input",{type:"text",ref:p,className:"editorTitle",value:l,onChange:e=>{e.preventDefault(),n(e.target.value)}}),r.createElement(E,{className:"deleteIcon",onClick:u})),r.createElement(h,{className:"quillEditor",theme:"snow",ref:m,value:s,onChange:c}))};b.initializeApp({apiKey:"AIzaSyA5JCxSzE7nA8ptOfgr8S3St16L9MOBDmI",authDomain:"keepnotes-abef0.firebaseapp.com",projectId:"keepnotes-abef0",storageBucket:"keepnotes-abef0.appspot.com",messagingSenderId:"63325717370",appId:"1:63325717370:web:f6128719adaa1d662f8cc3"});const k=()=>{const[e,t]=y.exports.useState(""),[o,a]=y.exports.useState(""),[l,n]=y.exports.useState([]),[s,c]=y.exports.useState(null),[d,i]=y.exports.useState(null),[m,u]=y.exports.useState(null),p=y.exports.useRef(),f=()=>{p.current.focus()},E=T((()=>{b.firestore().collection("notes").doc(d).update({title:s,body:m})}),2e3);y.exports.useEffect((()=>{b.firestore().collection("notes").orderBy("createdAt","desc").onSnapshot((e=>{n(e.docs.map((e=>({id:e.id,title:e.data().title,body:e.data().body}))))}))}),[]),y.exports.useEffect((()=>{let e=!0;return e&&d&&E(),()=>{e=!1}}),[s,m]);const h=()=>{window.confirm(`Are you sure want to delete everything of\n         ${s}?`)?b.firestore().collection("notes").doc(d).delete().then((()=>{console.log("successfully deleted"),c(null),window.alert("Deleted Successfully!")})):window.alert("Phew! Saved it!")};return r.createElement("div",{className:"App"},r.createElement(v,{setShowTitle:t,showTitle:e,addData:()=>{""===e?alert("Title is empty!"):b.firestore().collection("notes").add({title:e,body:o,createdAt:b.firestore.FieldValue.serverTimestamp()}).then((()=>{console.log("doc successfully written!"),t("")})).catch((e=>{console.error("error: ",e)}))}}),r.createElement("main",null,r.createElement(x,{showTitle:e,allNotes:l,delData:h,selectedNoteIndex:d,setSelectedNoteIndex:i,selectedNote:s,setSelectedNote:c,selectedNoteBody:m,setSelectedNoteBody:u,focusEditor:f,editor:p}),null!==s?r.createElement(B,{allNotes:l,setShowBody:a,showBody:o,setShowTitle:t,showTitle:e,selectedNote:s,setSelectedNote:c,updateData:E,selectedNoteBody:m,setSelectedNoteBody:u,focusEditor:f,editor:p,delData:h}):r.createElement("p",{style:{margin:"0 auto",fontFamily:"Open Sans",alignSelf:"center",fontSize:"1.5rem",opacity:"0.7"}},"Click on any Title or add ",r.createElement("br",null),"new title to see Editor")),r.createElement("footer",null,"Made withðŸ§  by",r.createElement("a",{href:"https://github.com/ayushsanjdev"},"ayushsanjdev ")," "))};S.render(r.createElement(r.StrictMode,null,r.createElement(k,null)),document.getElementById("root"));
